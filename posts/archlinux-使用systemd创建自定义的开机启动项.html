<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1" /><title>(ArchLinux) 使用systemd创建自定义的开机启动项</title><meta name="twitter:card" content="summary" /><meta name="twitter:site" content="@" /><meta name="twitter:title" content="(ArchLinux) 使用systemd创建自定义的开机启动项" /><meta name="twitter:description" content="The content is recoverd from Wordpress Blog, for more details please check HERE"><meta name="description" content="The content is recoverd from Wordpress Blog, for more details please check HERE"><meta name="google-site-verification" content="epFgX0s_0RM3CdjwFcsewfXzPov2g8s9ZBOLyaIUH-o"><link rel="icon" href="/assets/favicon.png"><link rel="apple-touch-icon" href="/assets/touch-icon.png"><link rel="stylesheet" href="//code.cdn.mozilla.net/fonts/fira.css"><link rel="stylesheet" href="/assets/core.css"><link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.1.1/css/all.min.css" rel="stylesheet"><link href="https://cdn.bootcdn.net/ajax/libs/highlight.js/11.5.0/styles/github.min.css" rel="stylesheet"><link rel="canonical" href="/posts/archlinux-%E4%BD%BF%E7%94%A8systemd%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8%E9%A1%B9"><link rel="alternate" type="application/atom+xml" title="VOID001's WOWO" href="/feed.xml" /> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga( 'create', 'UA-73703130-2', 'auto' ); ga( 'send', 'pageview' ); </script></head><body><aside class="logo"> <a href="/"> <img src="/assets/avatar.jpeg" class="gravatar"> </a> <span class="logo-prompt">Back to Home</span></aside><div class="footer-flex" style="margin-bottom: 4px"> Thinking, Coding, Improving</div><div class="footer-flex" style="color: #333333"> <a href="http://github.com/VOID001"><i class="fa-brands fa-lg fa-github"></i></a> <span style="margin: 4px"></span> <a href="https://t.me/s/void001_fav"><i class="fa-brands fa-lg fa-telegram"></i></a> <span style="margin: 4px"></span> <a href="/feed"><i class="fa-solid fa-lg fa-rss"></i></a></div><script src="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.1.1/js/fontawesome.min.js"></script><main> <noscript><style> article .footnotes { display: block; }</style></noscript><article><div class="center"><h1>(ArchLinux) 使用systemd创建自定义的开机启动项</h1><time>August 14, 2016</time> <span>[ ]</span></div><div class="divider"></div><p>The content is recoverd from Wordpress Blog, for more details please check <a href="recover-my-blog">HERE</a></p><h5 id="august-14-2016"><a href="https://web.archive.org/web/20210418232828/https://void-shana.moe/linux/archlinux-%e4%bd%bf%e7%94%a8systemd%e5%88%9b%e5%bb%ba%e8%87%aa%e5%ae%9a%e4%b9%89%e7%9a%84%e5%bc%80%e6%9c%ba%e5%90%af%e5%8a%a8%e9%a1%b9.html" title="9:24 am">August 14, 2016</a></h5><p><a href="https://web.archive.org/web/20210418232828/https://void-shana.moe/author/void001" title="View all posts by VOID001">VOID001</a> Comments <a href="https://web.archive.org/web/20210418232828/https://void-shana.moe/linux/archlinux-%e4%bd%bf%e7%94%a8systemd%e5%88%9b%e5%bb%ba%e8%87%aa%e5%ae%9a%e4%b9%89%e7%9a%84%e5%bc%80%e6%9c%ba%e5%90%af%e5%8a%a8%e9%a1%b9.html#respond">0 Comment</a></p><p>为了满足日常工作开发需要, 窝需要Cisco的VPN agent在开机额时候就启动, 而Arch不像Ubuntu用/etc/initrc下编写启动脚本, 下面简单记录一下编写vpnagentd的启动脚本以及启动的设置为开机启动的过程</p><p>首先在 /usr/lib/systemd/system下创建一个文件叫做vpnagentd.service然后写入如下内容</p><p> </p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[Unit]
Description=Cisco VPN Service
Wants=NetworkManager.service
After=NetworkManager.service

[Service]
Type=forking
ExecStart=/opt/cisco/anyconnect/bin/vpnagentd
PIDFile=/var/run/vpnagentd.pid
ExecReload=/usr/bin/kill -HUP $MAINPID

[Install]
WantedBy=multi-user.target

</code></pre></div></div><p>这里的ExecStart填写的是你要启动的vpnagentd所在的路径, 其他的参数都一目了然, WantedBy暂时先不解释(因为窝也没研究呢QAQ)</p><p>然后 执行 <code class="language-plaintext highlighter-rouge">systemctl enable vpnagentd.service</code>  然后就可以啦</p><p> </p><hr /><p><a href="https://web.archive.org/web/20210418232828/https://void-shana.moe/category/linux/archlinux">archlinux</a>, <a href="https://web.archive.org/web/20210418232828/https://void-shana.moe/category/linux">Linux</a>, <a href="https://web.archive.org/web/20210418232828/https://void-shana.moe/category/linux/linux_basis">Linux_Basis</a> <a href="https://web.archive.org/web/20210418232828/https://void-shana.moe/tag/c-linux">C. Linux</a>, <a href="https://web.archive.org/web/20210418232828/https://void-shana.moe/tag/kernel">kernel</a>, <a href="https://web.archive.org/web/20210418232828/https://void-shana.moe/tag/laravel">Laravel</a>, <a href="https://web.archive.org/web/20210418232828/https://void-shana.moe/tag/php">PHP</a>, <a href="https://web.archive.org/web/20210418232828/https://void-shana.moe/tag/python">Python</a>, <a href="https://web.archive.org/web/20210418232828/https://void-shana.moe/tag/shell">Shell</a>, <a href="https://web.archive.org/web/20210418232828/https://void-shana.moe/tag/web">Web</a>, <a href="https://web.archive.org/web/20210418232828/https://void-shana.moe/tag/wine">wine</a></p><hr /><h2 id="historical-comments">Historical Comments</h2><p>Post navigation ————— <a href="https://web.archive.org/web/20210418232828/https://void-shana.moe/webdev/%e7%9c%8b%e7%9d%80%e4%b8%8d%e7%88%bd-%e6%96%b0%e7%94%9f%e4%b8%8d%e9%9c%80%e8%a6%81%e6%8e%8c%e4%b8%8a%e4%b8%9c%e5%a4%a7%e4%b9%9f%e5%8f%af%e4%bb%a5%e6%9f%a5%e8%af%a2%e5%88%b0%e5%af%9d%e5%ae%a4.html">NEXT<br /> [看着不爽] NEUCrack 替代掌上东大的网页端查询工具</a> <a href="https://web.archive.org/web/20210418232828/https://void-shana.moe/linux/%e4%b8%80%e5%bc%a0%e5%9b%be%e8%a7%a3%e9%87%8a%e4%bb%80%e4%b9%88%e6%98%af%e7%a1%ac%e9%93%be%e6%8e%a5%e4%bb%80%e4%b9%88%e6%98%af%e8%bd%af%e9%93%be%e6%8e%a5.html">PREVIOUS [Linux 文件系统]一张图解释什么是硬链接什么是软链接</a></p><script src="https://giscus.app/client.js" data-repo="VOID001/VOID001.github.io" data-repo-id="MDEwOlJlcG9zaXRvcnkzMzI0MDI4NQ==" data-category="Announcements" data-category-id="DIC_kwDOAfs03c4COSSU" data-mapping="pathname" data-reactions-enabled="1" data-emit-metadata="1" data-input-position="top" data-theme="light" data-lang="en" data-loading="lazy" crossorigin="anonymous" async> </script></article><div class="back"> <a href="/">Back</a></div><script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/11.5.0/highlight.min.js"></script> <script>hljs.highlightAll();</script></main></body></html>